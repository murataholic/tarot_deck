<%= render 'shared/header' %>

<div class="article-lists">
  <div class="search-area">
    <h3>記事を検索する</h3>
    <div class="search-form">
      <%= form_with(url: search_result_articles_path, local: true, method: :get, class: "search-form") do |f| %>
        <%= f.text_field :keyword, class: "search-input" %>
        <%= f.submit "検索", class: "search-btn" %>
      <% end %>
    </div>
    <h3>ジャンルから検索する</h3>
    <div class="genre-box">
      <ul>
        <% @genres.each do |genre|%>
          <li><%=link_to "■#{genre.name}", search_result_articles_path(genre_id: genre.id) %></li>
        <% end %>
      </ul>
    </div>
  </div>

  <% if @articles.empty? %>
    <h3 class="search-result">※お探しの記事は見つかりませんでした。条件を変えて検索してください。</h3>
  <% else %>
    <% @articles.each do |article| %>
      <%= render partial: "shared/article_content", locals: { article: article } %>
    <% end %>
  <% end%>
</div>

<%= render 'shared/footer' %>